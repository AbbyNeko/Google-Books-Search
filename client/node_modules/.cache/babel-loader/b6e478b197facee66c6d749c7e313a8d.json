{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Abby\\\\Documents\\\\Github\\\\Google-Books-Search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import API from\"../utils/API\";function SavedBooks(){// Setting our component's initial state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];// Load all books and store them with setBooks\nuseEffect(function(){loadBooks();},[]);// Loads all books and sets them to books\nfunction loadBooks(){API.getBooks().then(function(res){return setBooks(res.data);}).catch(function(err){return console.log(err);});};// Deletes a book from the database with a given id, then reloads books from the db\nfunction deleteBook(id){API.deleteBook(id).then(function(res){return loadBooks();}).catch(function(err){return console.log(err);});}var savedBooksList=books.map(function(book,index){return/*#__PURE__*/React.createElement(\"li\",{key:index},book.title,/*#__PURE__*/React.createElement(\"a\",{className:\"view-btn\",href:book.link,target:\"_blank\",rel:\"noopener noreferrer\"},\"View\"),\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"delete-btn btn btn-danger\",onClick:function onClick(){return deleteBook(book._id);}},\"Delete\"));});return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},\"Saved Books\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 saved-books-list\"},/*#__PURE__*/React.createElement(\"ul\",null,savedBooksList))));}export default SavedBooks;","map":{"version":3,"sources":["C:/Users/Abby/Documents/Github/Google-Books-Search/client/src/pages/SavedBooks.js"],"names":["React","useState","useEffect","API","SavedBooks","books","setBooks","loadBooks","getBooks","then","res","data","catch","err","console","log","deleteBook","id","savedBooksList","map","book","index","title","link","_id"],"mappings":"2LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CAEA,QAASC,CAAAA,UAAT,EAAsB,CACpB;AADoB,cAEMH,QAAQ,CAAC,EAAD,CAFd,wCAEbI,KAFa,eAENC,QAFM,eAIpB;AACAJ,SAAS,CAAC,UAAM,CACdK,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,QAASA,CAAAA,SAAT,EAAqB,CACnBJ,GAAG,CAACK,QAAJ,GACGC,IADH,CACQ,SAAAC,GAAG,QACPJ,CAAAA,QAAQ,CAACI,GAAG,CAACC,IAAL,CADD,EADX,EAIGC,KAJH,CAIS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJZ,EAKD,EAED;AACA,QAASG,CAAAA,UAAT,CAAoBC,EAApB,CAAwB,CACtBd,GAAG,CAACa,UAAJ,CAAeC,EAAf,EACGR,IADH,CACQ,SAAAC,GAAG,QAAIH,CAAAA,SAAS,EAAb,EADX,EAEGK,KAFH,CAES,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFZ,EAGD,CAED,GAAMK,CAAAA,cAAc,CAAGb,KAAK,CAACc,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBAC/B,0BAAI,GAAG,CAAEA,KAAT,EAAiBD,IAAI,CAACE,KAAtB,cAA4B,yBAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAEF,IAAI,CAACG,IAAnC,CAAyC,MAAM,CAAC,QAAhD,CAAyD,GAAG,CAAC,qBAA7D,SAA5B,kBAAwH,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAE,yBAAMP,CAAAA,UAAU,CAACI,IAAI,CAACI,GAAN,CAAhB,EAAvD,WAAxH,CAD+B,EAAV,CAAvB,CAIE,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,0BAAI,SAAS,CAAC,OAAd,gBADJ,CADJ,cAKI,2BAAK,SAAS,CAAC,yBAAf,eACI,8BACKN,cADL,CADJ,CALJ,CADJ,CADJ,CAeD,CAGH,cAAed,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport API from \"../utils/API\";\r\n\r\nfunction SavedBooks() {\r\n  // Setting our component's initial state\r\n  const [books, setBooks] = useState([])\r\n\r\n  // Load all books and store them with setBooks\r\n  useEffect(() => {\r\n    loadBooks()\r\n  }, [])\r\n\r\n  // Loads all books and sets them to books\r\n  function loadBooks() {\r\n    API.getBooks()\r\n      .then(res => \r\n        setBooks(res.data)\r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // Deletes a book from the database with a given id, then reloads books from the db\r\n  function deleteBook(id) {\r\n    API.deleteBook(id)\r\n      .then(res => loadBooks())\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  const savedBooksList = books.map((book, index) => \r\n    <li key={index}>{book.title}<a className=\"view-btn\" href={book.link} target=\"_blank\" rel=\"noopener noreferrer\">View</a> <button className=\"delete-btn btn btn-danger\" onClick={() => deleteBook(book._id)}>Delete</button></li>\r\n  );\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h1 className=\"title\">Saved Books</h1>\r\n                </div>\r\n\r\n                <div className=\"col-12 saved-books-list\">\r\n                    <ul>\r\n                        {savedBooksList}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n\r\n\r\nexport default SavedBooks;\r\n"]},"metadata":{},"sourceType":"module"}